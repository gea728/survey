<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secret Message Portal - Security Gate</title>

 <!-- Prevent search engines from indexing -->
    <meta name="robots" content="noindex, nofollow">
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="A secure personal message portal requiring authentication through personalized security questions." />
    <meta name="keywords" content="personal portal, secure message, authentication, private communication" />
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Personal Message Portal - Secure Access Required" />
    <meta property="og:description" content="Access to this personal message portal requires answering customized security questions for authentication." />
    <meta property="og:image" content="https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&h=630&q=80" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://gea728.github.io/survey/" />
    <meta property="og:site_name" content="Personal Message Portal" />
    <meta property="og:locale" content="en_US" />
    
    <!-- Additional OG Images -->
    <meta property="og:image:alt" content="Secure lock icon representing protected portal" />
    <meta property="og:image:type" content="image/jpeg" />
    
    <!-- Twitter Cards -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Personal Message Portal - Secure Access Required" />
    <meta name="twitter:description" content="Access to this personal message portal requires answering customized security questions for authentication." />
    <meta name="twitter:image" content="https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&h=630&q=80" />
    <meta name="twitter:image:alt" content="Secure lock icon representing protected portal" />
    
    <!-- Additional privacy-focused meta tags -->
    <meta property="og:site_name" content="Private Portal" />
    <meta name="theme-color" content="#ff4081" />
    <meta name="application-name" content="Personal Message Portal" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Arial', sans-serif;
        }

        body {
            min-height: 100vh;
            overflow: hidden;
            color: #333;
            position: relative;
        }

        /* Section management */
        .section {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.8s ease, visibility 0.8s ease;
            z-index: 1;
        }

        .section.active {
            opacity: 1;
            visibility: visible;
            z-index: 10;
        }

        /* SECURITY GATE STYLES */
        .security-gate {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1000;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: opacity 0.8s ease;
            background: linear-gradient(135deg,
                    #ffd6e7 0%,
                    #ffcfe1 25%,
                    #c2e9fb 50%,
                    #a1c4fd 75%,
                    #ffcfe1 100%);
            background-size: 400% 400%;
            animation: gradientFlow 15s ease infinite;
            padding: 20px;
        }

        @keyframes gradientFlow {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .security-gate.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .gate-container {
            background: rgba(255, 255, 255, 0.98);
            padding: 30px 25px;
            border-radius: 18px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15),
                0 0 0 1px rgba(255, 255, 255, 0.3);
            width: 100%;
            max-width: 450px;
            text-align: center;
            animation: gateFadeIn 0.8s ease;
            position: relative;
            margin: 0 auto;
            border: 1px solid rgba(255, 255, 255, 0.8);
        }

        @keyframes gateFadeIn {
            from {
                opacity: 0;
                transform: translateY(-15px) scale(0.98);
            }

            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .gate-container h2 {
            color: #ff4081;
            margin-bottom: 10px;
            font-size: 2.2rem;
            font-weight: 600;
            letter-spacing: -0.5px;
            background: linear-gradient(45deg, #ff4081, #ff6b9d);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.2;
        }

        .gate-subtitle {
            color: #666;
            margin-bottom: 25px;
            font-size: 1rem;
            line-height: 1.4;
            font-weight: 400;
            padding: 0 5px;
        }

        .gate-image {
            width: 90px;
            height: 90px;
            margin: 0 auto 20px;
            border-radius: 50%;
            overflow: hidden;
            box-shadow: 0 6px 20px rgba(255, 64, 129, 0.2);
            border: 3px solid white;
            animation: floatImage 6s ease-in-out infinite;
        }

        @keyframes floatImage {

            0%,
            100% {
                transform: translateY(0) rotate(0deg);
            }

            33% {
                transform: translateY(-10px) rotate(4deg);
            }

            66% {
                transform: translateY(6px) rotate(-4deg);
            }
        }

        .gate-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .question-container {
            margin: 18px 0;
            text-align: left;
        }

        .question-label {
            display: block;
            margin-bottom: 6px;
            color: #333;
            font-weight: 500;
            font-size: 1rem;
            padding-left: 6px;
        }

        .question-input {
            width: 100%;
            padding: 12px 14px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s;
            background: rgba(255, 255, 255, 0.95);
            color: #333;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.04);
        }

        .question-input:focus {
            outline: none;
            border-color: #ff4081;
            box-shadow: 0 0 0 3px rgba(255, 64, 129, 0.1),
                inset 0 1px 3px rgba(0, 0, 0, 0.04);
            background: rgba(255, 255, 255, 1);
        }

        .hint-text {
            font-size: 0.85rem;
            color: #777;
            margin-top: 5px;
            font-style: italic;
            padding-left: 8px;
            line-height: 1.3;
        }

        .submit-btn {
            background: linear-gradient(135deg, #ff4081 0%, #ff6b9d 100%);
            color: white;
            border: none;
            padding: 14px 28px;
            font-size: 1.1rem;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 20px;
            width: 100%;
            transition: all 0.3s;
            font-weight: 600;
            letter-spacing: 0.5px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 6px 16px rgba(255, 64, 129, 0.2);
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(255, 64, 129, 0.3);
        }

        .submit-btn:active {
            transform: translateY(0);
        }

        .error-message {
            color: #ff4081;
            margin-top: 15px;
            font-weight: 500;
            min-height: 22px;
            padding: 6px 10px;
            border-radius: 6px;
            background: rgba(255, 64, 129, 0.08);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            font-size: 0.9rem;
        }

        .attempts-counter {
            margin-top: 12px;
            font-size: 0.9rem;
            color: #666;
            padding: 6px 10px;
            border-radius: 6px;
            background: rgba(0, 0, 0, 0.03);
        }

        .gate-hearts {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .gate-heart {
            position: absolute;
            font-size: 16px;
            opacity: 0;
            animation: floatHeart linear infinite;
        }

        @keyframes floatHeart {
            0% {
                transform: translateY(100vh) rotate(0deg) scale(0.5);
                opacity: 0;
            }

            10% {
                opacity: 0.5;
            }

            90% {
                opacity: 0.5;
            }

            100% {
                transform: translateY(-100px) rotate(360deg) scale(1);
                opacity: 0;
            }
        }

        .shake {
            animation: shake 0.5s;
        }

        @keyframes shake {

            0%,
            100% {
                transform: translateX(0);
            }

            10%,
            30%,
            50%,
            70%,
            90% {
                transform: translateX(-5px);
            }

            20%,
            40%,
            60%,
            80% {
                transform: translateX(5px);
            }
        }

        /* MAIN CONTENT STYLES */
        .main-content {
            width: 100%;
            height: 100vh;
            overflow-y: auto;
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        .main-content::-webkit-scrollbar {
            width: 8px;
        }

        .main-content::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.05);
        }

        .main-content::-webkit-scrollbar-thumb {
            background: rgba(255, 105, 180, 0.5);
            border-radius: 10px;
        }

        .main-content::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 105, 180, 0.7);
        }

        @keyframes pageFadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            background: linear-gradient(-45deg, #fee9f7, #e8f5fe, #fef2e8, #f0ffe8);
            background-size: 400% 400%;
            animation: seamlessGradient 25s ease infinite;
        }

        @keyframes seamlessGradient {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        /* DASHBOARD SECTION */
        .content-section {
            min-height: 100vh;
            position: relative;
            padding: 40px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .container {
            display: flex;
            width: 100%;
            max-width: 1400px;
            align-items: center;
            position: relative;
            z-index: 1;
            gap: 40px;
        }

        .message-section {
            flex: 1;
            padding: 40px;
            max-width: 600px;
            z-index: 2;
        }

        h1 {
            font-size: 3.5rem;
            color: #ff69b4;
            text-shadow: 0 0 10px rgba(255, 105, 180, 0.5);
            margin-bottom: 2rem;
            opacity: 0;
            animation: fadeInUp 1s forwards 0.5s;
            font-weight: 300;
            letter-spacing: 1px;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message-container {
            background: rgba(255, 255, 255, 0.85);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            min-height: 250px;
            max-height: 400px;
            margin-bottom: 30px;
            overflow-y: auto;
            overflow-x: hidden;
        }

        .message-container::-webkit-scrollbar {
            width: 6px;
        }

        .message-container::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 10px;
        }

        .message-container::-webkit-scrollbar-thumb {
            background: rgba(255, 105, 180, 0.5);
            border-radius: 10px;
        }

        .message-container::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 105, 180, 0.7);
        }

        .typed-text {
            font-size: 1.1rem;
            line-height: 1.6;
            color: #4a148c;
            position: relative;
        }

        .message-line {
            margin-bottom: 15px;
            opacity: 0;
            transform: translateY(15px);
            animation: slideIn 0.5s forwards;
        }

        @keyframes slideIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .cursor {
            display: inline-block;
            width: 2px;
            background-color: #ff4d94;
            margin-left: 4px;
            animation: blink 1s infinite;
            height: 1.1rem;
            vertical-align: text-bottom;
        }

        @keyframes blink {

            0%,
            50% {
                opacity: 1;
            }

            51%,
            100% {
                opacity: 0;
            }
        }

        .rose-section {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            z-index: 2;
        }

        .rose-container {
            position: relative;
            width: 400px;
            height: 400px;
            animation: gentleFloat 4s ease-in-out infinite;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        @keyframes gentleFloat {

            0%,
            100% {
                transform: translateY(0) rotate(0deg);
            }

            50% {
                transform: translateY(-20px) rotate(5deg);
            }
        }

        .main-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15),
                0 0 0 1px rgba(255, 255, 255, 0.2);
            animation: imageGlow 3s ease-in-out infinite alternate;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        @keyframes imageGlow {
            0% {
                box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15),
                    0 0 0 1px rgba(255, 255, 255, 0.2),
                    0 0 20px rgba(255, 105, 180, 0.2);
            }

            100% {
                box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15),
                    0 0 0 1px rgba(255, 255, 255, 0.2),
                    0 0 40px rgba(255, 105, 180, 0.4);
            }
        }

        .main-image:hover {
            transform: scale(1.02);
        }

        .heart-flow {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }

        .flowing-heart {
            position: absolute;
            font-size: 16px;
            color: #e91e63;
            opacity: 0;
            bottom: -20px;
            animation: floatUp linear infinite;
            text-shadow: 0 0 5px rgba(233, 30, 99, 0.5);
        }

        @keyframes floatUp {
            0% {
                transform: translateY(0) rotate(0deg) scale(0.8);
                opacity: 0;
            }

            10% {
                opacity: 0.8;
            }

            90% {
                opacity: 0.8;
            }

            100% {
                transform: translateY(-100vh) rotate(360deg) scale(1.2);
                opacity: 0;
            }
        }

        /* SCROLL INDICATOR */
        .scroll-indicator {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            width: auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            z-index: 100;
        }

        .scroll-indicator-inner {
            animation: bounce 2s infinite;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }

        @keyframes bounce {

            0%,
            20%,
            50%,
            80%,
            100% {
                transform: translateY(0);
            }

            40% {
                transform: translateY(-10px);
            }

            60% {
                transform: translateY(-5px);
            }
        }

        .scroll-indicator i {
            font-size: 2rem;
            color: #ff69b4;
            text-shadow: 0 2px 10px rgba(255, 105, 180, 0.5);
        }

        .scroll-indicator span {
            font-size: 0.9rem;
            color: #ff69b4;
            font-weight: 600;
            text-shadow: 0 1px 5px rgba(255, 255, 255, 0.8);
            background: rgba(255, 255, 255, 0.9);
            padding: 5px 15px;
            border-radius: 20px;
        }

        /* MESSAGES SECTION */
        .messages-section {
            min-height: 100vh;
            padding: 80px 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .messages-page {
            max-width: 850px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .page-header {
            text-align: center;
            margin-bottom: 50px;
            opacity: 0;
            animation: fadeInUp 1s forwards 0.5s;
        }

        .page-header h1 {
            font-size: 2.8rem;
            color: #ff69b4;
            text-shadow: 0 0 10px rgba(255, 105, 180, 0.5);
            margin-bottom: 15px;
            font-weight: 300;
            letter-spacing: 1px;
        }

        .page-header .subtitle {
            font-size: 1.1rem;
            color: #8a2be2;
            font-style: italic;
        }

        .message-slider-container {
            position: relative;
            height: 500px;
            overflow: hidden;
            border-radius: 20px;
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.15);
            margin-bottom: 40px;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1s forwards 0.8s;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            z-index: 2;
        }

        .slider-messages {
            display: flex;
            transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            height: 100%;
        }

        .message-slide {
            min-width: 100%;
            height: 100%;
            padding: 50px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
        }

        .message-date {
            font-size: 0.9rem;
            color: #ff69b4;
            margin-bottom: 20px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .message-title {
            font-size: 1.4rem;
            color: #4a148c;
            margin-bottom: 25px;
            line-height: 1.4;
            font-weight: 600;
        }

        .message-content {
            font-size: 0.95rem;
            line-height: 1.7;
            color: #444;
            height: 300px;
            overflow-y: auto;
            padding-right: 20px;
            text-align: justify;
            letter-spacing: 0.3px;
        }

        .message-content::-webkit-scrollbar {
            width: 5px;
        }

        .message-content::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.05);
            border-radius: 10px;
        }

        .message-content::-webkit-scrollbar-thumb {
            background: #ff69b4;
            border-radius: 10px;
        }

        .message-content p {
            margin-bottom: 16px;
        }

        .slider-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 30px;
            margin-top: 30px;
            opacity: 0;
            animation: fadeInUp 1s forwards 1.1s;
            z-index: 2;
            position: relative;
        }

        .slider-dots {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(138, 43, 226, 0.3);
            cursor: pointer;
            transition: all 0.3s;
        }

        .dot.active {
            background: #ff69b4;
            transform: scale(1.3);
            box-shadow: 0 0 10px rgba(255, 105, 180, 0.5);
        }

        .slider-btn {
            background: linear-gradient(135deg, #8a2be2 0%, #ff69b4 100%);
            color: white;
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(138, 43, 226, 0.3);
        }

        .slider-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(138, 43, 226, 0.4);
        }

        .auto-slide-indicator {
            text-align: center;
            margin-top: 25px;
            opacity: 0;
            animation: fadeInUp 1s forwards 1.4s;
            z-index: 2;
            position: relative;
        }

        .auto-slide-status {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 8px 20px;
            background: rgba(255, 255, 255, 0.85);
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid rgba(138, 43, 226, 0.1);
            font-size: 0.9rem;
            color: #666;
            backdrop-filter: blur(5px);
        }

        .auto-slide-status:hover {
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #4CAF50;
        }

        .status-dot.paused {
            background: #ff9800;
        }

        /* WALL SECTION */
        .wall-section {
            min-height: 100vh;
            padding: 80px 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .controls {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            z-index: 100;
        }

        .controls button {
            padding: 12px 25px;
            font-size: 1.1rem;
            font-weight: bold;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        #addWall {
            background: linear-gradient(90deg, #4CAF50, #2E7D32);
            color: white;
        }

        #removeWall {
            background: linear-gradient(90deg, #f44336, #c62828);
            color: white;
        }

        .controls button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }

        .controls button:active {
            transform: translateY(1px);
        }

        .controls button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .wall-container {
            position: relative;
            width: 90%;
            max-width: 1200px;
            height: 70vh;
            max-height: 650px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: visible;
            margin: 0 auto;
        }

        .walls-container {
            position: absolute;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0;
            transition: all 0.5s ease;
        }

        .wall {
            height: 100%;
            width: 40px;
            background: linear-gradient(90deg, #8B7355, #A0522D);
            border-left: 5px solid #5D4037;
            border-right: 5px solid #5D4037;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.5), 0 5px 15px rgba(0, 0, 0, 0.3);
            z-index: 2;
            transition: all 0.5s ease;
        }

        .pictures-container {
            position: absolute;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
            z-index: 1;
            transition: all 1s ease;
            pointer-events: none;
        }

        .picture-half {
            transition: all 1s ease;
            object-fit: contain;
            position: absolute;
            max-height: 100%;
            max-width: 55%;
            width: auto;
            height: auto;
            transform-origin: center center;
        }

        #leftPicture {
            right: calc(50% + 20px);
            transform: translateX(0);
            max-width: 55%;
            max-height: 100%;
        }

        #rightPicture {
            left: calc(50% + 20px);
            transform: translateX(0);
            max-width: 55%;
            max-height: 100%;
        }

        .earthquake {
            animation: earthquake 0.8s ease-in-out;
        }

        @keyframes earthquake {
            0% {
                transform: translateX(0);
            }

            10% {
                transform: translateX(-10px) translateY(5px);
            }

            20% {
                transform: translateX(12px) translateY(-7px);
            }

            30% {
                transform: translateX(-15px) translateY(3px);
            }

            40% {
                transform: translateX(9px) translateY(-5px);
            }

            50% {
                transform: translateX(-11px) translateY(7px);
            }

            60% {
                transform: translateX(13px) translateY(-4px);
            }

            70% {
                transform: translateX(-7px) translateY(3px);
            }

            80% {
                transform: translateX(8px) translateY(-6px);
            }

            90% {
                transform: translateX(-5px) translateY(2px);
            }

            100% {
                transform: translateX(0);
            }
        }

        .popup {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.5s ease;
        }

        .popup.active {
            opacity: 1;
            visibility: visible;
        }

        .popup-content {
            background: linear-gradient(135deg, #ff5e62, #ff9966);
            padding: 40px;
            border-radius: 16px;
            text-align: center;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 15px 30px rgba(255, 94, 98, 0.4);
            transform: scale(0.7);
            transition: transform 0.5s ease;
        }

        .popup.active .popup-content {
            transform: scale(1);
        }

        .popup h2 {
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: white;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .popup p {
            font-size: 1.3rem;
            margin-bottom: 30px;
            color: #fff;
        }

        .wall-remove {
            animation: wallRemove 0.5s ease forwards;
        }

        @keyframes wallRemove {
            0% {
                width: 40px;
                opacity: 1;
            }

            100% {
                width: 0;
                opacity: 0;
            }
        }

        .join-effect {
            animation: joinEffect 0.8s ease;
        }

        @keyframes joinEffect {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }

            100% {
                transform: scale(1);
            }
        }

        .sweet-message {
            position: absolute;
            bottom: -70px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1.2rem;
            font-weight: bold;
            color: #ff69b4;
            text-align: center;
            opacity: 0;
            transition: opacity 1s ease;
            text-shadow: 2px 2px 4px rgba(255, 255, 255, 0.8);
            width: 100%;
            max-width: 600px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(255, 105, 180, 0.3);
        }

        .sweet-message.show {
            opacity: 1;
            animation: heartbeat 1.5s ease infinite;
        }

        @keyframes heartbeat {

            0%,
            100% {
                transform: translateX(-50%) scale(1);
            }

            50% {
                transform: translateX(-50%) scale(1.1);
            }
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .picture-half {
                max-width: 48%;
                max-height: 95%;
            }

            #leftPicture,
            #rightPicture {
                max-width: 48%;
                max-height: 95%;
            }

            .wall-container {
                width: 92%;
                height: 55vh;
            }
        }

        @media (max-width: 900px) {
            .gate-container {
                padding: 25px 20px;
                max-width: 400px;
            }

            .gate-container h2 {
                font-size: 2rem;
            }

            .gate-image {
                width: 85px;
                height: 85px;
            }

            .container {
                flex-direction: column;
                padding: 20px;
            }

            .content-section {
                padding: 40px 20px;
            }

            .message-section {
                padding: 20px;
                max-width: 100%;
            }

            h1 {
                font-size: 2.5rem;
                margin-bottom: 1.5rem;
            }

            .message-container {
                padding: 20px;
                max-height: 300px;
                min-height: 200px;
            }

            .typed-text {
                font-size: 1rem;
            }

            .rose-container {
                width: 350px;
                height: 350px;
                margin-top: 20px;
            }

            .messages-section {
                padding: 60px 15px;
            }

            .page-header h1 {
                font-size: 2.2rem;
            }

            .message-slider-container {
                height: 450px;
            }

            .message-slide {
                padding: 35px;
            }

            .message-content {
                height: 270px;
                font-size: 0.9rem;
            }

            .slider-btn {
                width: 40px;
                height: 40px;
            }

            .wall-section {
                padding: 60px 15px;
            }

            .wall-container {
                width: 95%;
                height: 60vh;
                max-height: 500px;
            }

            .picture-half {
                max-width: 48%;
                max-height: 90%;
            }

            #leftPicture,
            #rightPicture {
                max-width: 48%;
                max-height: 90%;
            }
        }

        @media (max-width: 500px) {
            .security-gate {
                padding: 15px;
            }

            .gate-container {
                padding: 22px 18px;
                max-width: 340px;
                border-radius: 16px;
            }

            .gate-container h2 {
                font-size: 1.8rem;
                margin-bottom: 8px;
            }

            .gate-subtitle {
                font-size: 0.95rem;
                margin-bottom: 20px;
                padding: 0;
            }

            .submit-btn {
                padding: 13px 24px;
                font-size: 1.05rem;
                margin-top: 18px;
            }

            .question-input {
                padding: 11px 13px;
                font-size: 0.95rem;
            }

            .gate-image {
                width: 75px;
                height: 75px;
                margin-bottom: 15px;
            }

            .question-label {
                font-size: 0.95rem;
            }

            .hint-text {
                font-size: 0.82rem;
            }

            .error-message {
                font-size: 0.85rem;
                padding: 5px 8px;
            }

            .attempts-counter {
                font-size: 0.85rem;
                padding: 5px 8px;
            }

            h1 {
                font-size: 2rem;
            }

            .typed-text {
                font-size: 0.95rem;
            }

            .rose-container {
                width: 300px;
                height: 300px;
                margin-top: 10px;
            }

            .main-image {
                border-radius: 15px;
            }

            .flowing-heart {
                font-size: 14px;
            }

            .message-container {
                max-height: 250px;
            }

            .messages-section {
                padding: 40px 10px;
            }

            .page-header h1 {
                font-size: 1.8rem;
            }

            .page-header .subtitle {
                font-size: 1rem;
            }

            .message-slider-container {
                height: 400px;
            }

            .message-slide {
                padding: 25px;
            }

            .message-title {
                font-size: 1.2rem;
            }

            .message-content {
                height: 240px;
                font-size: 0.85rem;
            }

            .slider-controls {
                gap: 20px;
            }

            .auto-slide-status {
                font-size: 0.85rem;
                padding: 6px 15px;
            }

            .scroll-indicator {
                bottom: 15px;
            }

            .scroll-indicator i {
                font-size: 1.5rem;
            }

            .scroll-indicator span {
                font-size: 0.8rem;
                padding: 4px 12px;
            }

            .wall-container {
                width: 95%;
                height: 50vh;
                max-height: 400px;
            }

            .picture-half {
                max-width: 45%;
                max-height: 85%;
            }

            #leftPicture,
            #rightPicture {
                max-width: 45%;
                max-height: 85%;
            }

            .sweet-message {
                bottom: -90px;
                font-size: 1rem;
                padding: 12px;
                max-width: 90%;
            }
        }

        @media (max-width: 350px) {
            .gate-container {
                padding: 20px 16px;
                max-width: 300px;
            }

            .gate-container h2 {
                font-size: 1.6rem;
            }

            .gate-subtitle {
                font-size: 0.9rem;
            }

            .submit-btn {
                padding: 12px 20px;
                font-size: 1rem;
            }

            .gate-image {
                width: 70px;
                height: 70px;
            }

            .wall-container {
                width: 98%;
                height: 45vh;
                max-height: 350px;
            }

            .picture-half {
                max-width: 48%;
                max-height: 80%;
            }

            #leftPicture,
            #rightPicture {
                max-width: 48%;
                max-height: 80%;
            }

            .sweet-message {
                bottom: -100px;
                font-size: 0.9rem;
                padding: 10px;
            }
        }

        @media (max-height: 600px) and (orientation: landscape) {
            .security-gate {
                padding: 10px;
            }

            .gate-container {
                padding: 20px 15px;
                max-width: 380px;
            }

            .gate-image {
                width: 60px;
                height: 60px;
                margin-bottom: 10px;
            }

            .gate-container h2 {
                font-size: 1.7rem;
                margin-bottom: 5px;
            }

            .gate-subtitle {
                font-size: 0.9rem;
                margin-bottom: 15px;
            }

            .question-container {
                margin: 12px 0;
            }

            .submit-btn {
                margin-top: 15px;
                padding: 10px 20px;
            }

            .wall-container {
                height: 80vh;
                max-height: 500px;
            }

            .picture-half {
                max-width: 40%;
                max-height: 90%;
            }

            #leftPicture,
            #rightPicture {
                max-width: 40%;
                max-height: 90%;
            }

            .sweet-message {
                bottom: -60px;
                font-size: 0.85rem;
                padding: 8px;
            }
        }

        @media (max-width: 400px) and (max-height: 700px) {
            .wall-container {
                height: 45vh;
                max-height: 380px;
            }

            .picture-half {
                max-width: 46%;
                max-height: 85%;
            }

            #leftPicture,
            #rightPicture {
                max-width: 46%;
                max-height: 85%;
            }

            .controls button {
                padding: 10px 20px;
                font-size: 1rem;
            }
        }
    </style>
</head>

<body>
    <!-- SECTION 1: SECURITY GATE -->
    <div class="section active" id="gateSection">
        <div class="security-gate" id="securityGate">
            <div class="gate-hearts" id="gateHearts"></div>
            <div class="gate-container">
                <div class="gate-image">
                    <img src="mine.jpg" alt="Special Image" onerror="this.style.display='none'">
                </div>

                <h2>Secret Message Portal</h2>
                <p class="gate-subtitle">Answer these personal questions to unlock your special message</p>

                <div class="question-container">
                    <label class="question-label">1. Your first cat name?</label>
                    <input type="text" class="question-input" id="answer1" placeholder="Enter your answer">
                </div>

                <div class="question-container">
                    <label class="question-label">2. What thing you like to see the most at night?</label>
                    <input type="text" class="question-input" id="answer2" placeholder="Enter your answer">
                    <div class="hint-text">Hint: It's bright, and during Tihar it is lit everywhere.</div>
                </div>

                <button class="submit-btn" id="submitBtn">
                    <i class="fas fa-lock-open"></i> Unlock Message
                </button>

                <div class="error-message" id="errorMessage"></div>
                <div class="attempts-counter" id="attemptsCounter">Attempts remaining: 3</div>
            </div>
        </div>
    </div>

    <!-- SECTION 2: MAIN CONTENT (Dashboard + Messages + Wall) -->
    <div class="section" id="mainSection">
        <div class="background"></div>
        <div class="heart-flow" id="heartFlow"></div>

        <div class="main-content" id="mainContent">
            <!-- DASHBOARD SUBSECTION -->
            <div class="content-section" id="dashboardSubsection">
                <div class="container">
                    <div class="message-section">
                        <h1>Dear Baby</h1>

                        <div class="message-container">
                            <div class="typed-text" id="typedText">
                                <!-- Message will be typed here -->
                            </div>
                        </div>
                    </div>

                    <div class="rose-section">
                        <div class="rose-container">
                            <img src="download.png" alt="Special Image" class="main-image" id="mainImage">
                        </div>
                    </div>
                </div>

                <div class="scroll-indicator" id="scrollIndicator1">
                    <div class="scroll-indicator-inner">
                        <i class="fas fa-chevron-down"></i>
                        <span>Scroll for more</span>
                    </div>
                </div>
            </div>

            <!-- MESSAGES SUBSECTION -->
            <div class="messages-section">
                <div class="messages-page">
                    <div class="page-header">
                        <h1>Messages For You</h1>
                        <div class="subtitle">Two special messages from my heart</div>
                    </div>

                    <div class="message-slider-container">
                        <div class="slider-messages" id="sliderMessages">
                            <!-- Message 1 -->
                            <div class="message-slide">
                                <div class="message-date">
                                </div>
                                <h2 class="message-title">To the One Who Stole My Heart</h2>
                                <div class="message-content">
                                    <p>Hi Baby, </p>
                                    <p>I am really sorry for all the things I did to you. I should have been a better person for you
                                        and I know it's late now.
                                        But I want to correct myself all my ways. I now want to actually listen to you understand
                                        you and stop being selfish. I
                                        can't see my future without you, I have always pictured you, cats and us spending our life
                                        together.</p>
                                    <p>Everyday I feel anxiety and be scared that you are gone but I want to try infinite times with
                                        you to fix things than to
                                        settle down with someone I will never love like you. Please give me a chance to correct
                                        myself and to treat you right
                                        because you deserve that.</p>
                                    <p>I will never be the person I was before. Past version of me affected you as well as my life
                                        and I really want a change.
                                        I will respect all your decision and get rid of my stubbornness also. I won't promise you
                                        that the stubbornness will be
                                        gone over the night but I will assure you that I will hardly work for it.</p>
                                    <p>I will never ever make you feel worst like you did in these past days. I hope you will take
                                        this message positively and
                                        give me a chance to change our relationship and myself. I love you baby and I want to be
                                        part of your life.</p>
                                </div>
                            </div>

                            <!-- Message 2 -->
                            <div class="message-slide">
                                <div class="message-date">
                                </div>
                                <div class="message-content">
                                    <p>My Princess,</p>
                                    <p>Have you checked your mail? I have been writing you mail everyday, if you haven't please go
                                        through it.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="slider-controls">
                        <button class="slider-btn" id="prevBtn">
                            <i class="fas fa-chevron-left"></i>
                        </button>

                        <div class="slider-dots">
                            <div class="dot active" data-slide="0"></div>
                            <div class="dot" data-slide="1"></div>
                        </div>

                        <button class="slider-btn" id="nextBtn">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>

                    <div class="auto-slide-indicator">
                        <div class="auto-slide-status" id="autoSlideStatus">
                            <div class="status-dot" id="statusDot"></div>
                            <span>Auto-slide is on (click to stop)</span>
                        </div>
                    </div>
                </div>

                <div class="scroll-indicator" id="scrollIndicator2">
                    <div class="scroll-indicator-inner">
                        <i class="fas fa-chevron-down"></i>
                        <span>Scroll for more</span>
                    </div>
                </div>
            </div>

            <!-- WALL SUBSECTION -->
            <div class="wall-section">
                <div class="controls">
                    <button id="addWall">Add Wall</button>
                    <button id="removeWall">Remove Wall</button>
                </div>

                <div class="wall-container">
                    <div class="pictures-container" id="picturesContainer">
                        <img src="her.png" class="picture-half" id="leftPicture" alt="Her">
                        <img src="him.png" class="picture-half" id="rightPicture" alt="Him">
                    </div>

                    <div class="walls-container" id="wallsContainer">
                        <div class="wall" id="wall-1"></div>
                    </div>

                    <div class="sweet-message" id="sweetMessage">
                         Please reach out and let's fix our relationship 
                    </div>
                </div>

                <div class="popup" id="earthquakePopup">
                    <div class="popup-content">
                        <h2>EARTHQUAKE!</h2>
                        <p>Oh no, earthquake earthquake!</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // NAVIGATION SYSTEM
        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(sectionId).classList.add('active');

            if (sectionId === 'mainSection') {
                initMainContent();
            }
        }

        // SECURITY GATE FUNCTIONALITY
        const securityGate = document.getElementById('securityGate');
        const submitBtn = document.getElementById('submitBtn');
        const answer1Input = document.getElementById('answer1');
        const answer2Input = document.getElementById('answer2');
        const errorMessage = document.getElementById('errorMessage');
        const attemptsCounter = document.getElementById('attemptsCounter');
        const gateHearts = document.getElementById('gateHearts');

        const correctAnswers = {
            question1: ['billu'],
            question2: ['lights', 'light', 'lites', 'lite']
        };

        let attemptsRemaining = 3;
        let isUnlocked = false;

        function createGateHearts() {
            const heartCount = 10;

            for (let i = 0; i < heartCount; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.className = 'gate-heart';
                    const heartStyles = ['', '', '', '', ''];
                    const randomHeart = heartStyles[Math.floor(Math.random() * heartStyles.length)];

                    heart.innerHTML = randomHeart;
                    const startX = Math.random() * 100;
                    const duration = Math.random() * 18 + 12;
                    const delay = Math.random() * 4;
                    const size = Math.random() * 16 + 10;
                    const color = `hsl(${Math.random() * 60 + 330}, 100%, 65%)`;

                    heart.style.left = `${startX}%`;
                    heart.style.animationDuration = `${duration}s`;
                    heart.style.animationDelay = `${delay}s`;
                    heart.style.fontSize = `${size}px`;
                    heart.style.color = color;

                    gateHearts.appendChild(heart);

                    setTimeout(() => {
                        if (heart.parentNode === gateHearts) {
                            heart.remove();
                        }
                    }, (duration + delay) * 1000);

                }, i * 1500);
            }
        }

        function checkAnswers() {
            const answer1 = answer1Input.value.trim().toLowerCase();
            const answer2 = answer2Input.value.trim().toLowerCase();

            const isAnswer1Correct = correctAnswers.question1.includes(answer1);
            const isAnswer2Correct = correctAnswers.question2.includes(answer2);

            if (isAnswer1Correct && isAnswer2Correct) {
                unlockSite();
                return true;
            } else {
                attemptsRemaining--;
                updateAttemptsCounter();

                if (attemptsRemaining <= 0) {
                    errorMessage.textContent = "No more attempts remaining. Please refresh the page to try again.";
                    submitBtn.disabled = true;
                    submitBtn.innerHTML = '<i class="fas fa-lock"></i> Locked';
                    submitBtn.style.background = '#cccccc';
                    submitBtn.style.boxShadow = 'none';
                } else {
                    if (!isAnswer1Correct && !isAnswer2Correct) {
                        errorMessage.textContent = " Both answers are incorrect. Please try again.";
                    } else if (!isAnswer1Correct) {
                        errorMessage.textContent = " First answer is incorrect. Please try again.";
                    } else {
                        errorMessage.textContent = " Second answer is incorrect. Please try again.";
                    }

                    answer1Input.style.borderColor = isAnswer1Correct ? '#4CAF50' : '#ff4081';
                    answer2Input.style.borderColor = isAnswer2Correct ? '#4CAF50' : '#ff4081';

                    if (!isAnswer1Correct) {
                        answer1Input.classList.add('shake');
                        setTimeout(() => answer1Input.classList.remove('shake'), 500);
                    }
                    if (!isAnswer2Correct) {
                        answer2Input.classList.add('shake');
                        setTimeout(() => answer2Input.classList.remove('shake'), 500);
                    }
                }
                return false;
            }
        }

        function unlockSite() {
            isUnlocked = true;
            errorMessage.textContent = " Access granted! Unlocking your special message...";
            errorMessage.style.color = "#4CAF50";
            errorMessage.style.background = "rgba(76, 175, 80, 0.1)";

            createCelebrationHearts();

            setTimeout(() => {
                securityGate.classList.add('hidden');
                setTimeout(() => {
                    showSection('mainSection');
                }, 800);
            }, 1500);
        }

        function updateAttemptsCounter() {
            attemptsCounter.textContent = `Attempts remaining: ${attemptsRemaining}`;

            if (attemptsRemaining === 1) {
                attemptsCounter.style.color = "#ff4081";
                attemptsCounter.style.background = "rgba(255, 64, 129, 0.1)";
            } else if (attemptsRemaining === 2) {
                attemptsCounter.style.color = "#ff9800";
                attemptsCounter.style.background = "rgba(255, 152, 0, 0.1)";
            }
        }

        function createCelebrationHearts() {
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.innerHTML = '';
                    heart.style.position = 'fixed';
                    heart.style.fontSize = '24px';
                    heart.style.color = '#ff4081';
                    heart.style.left = `${Math.random() * 100}%`;
                    heart.style.top = `${Math.random() * 100}%`;
                    heart.style.zIndex = '1001';
                    heart.style.pointerEvents = 'none';
                    heart.style.opacity = '0';
                    heart.style.transform = 'scale(0)';
                    heart.style.textShadow = '0 0 6px rgba(255, 64, 129, 0.3)';

                    document.body.appendChild(heart);

                    heart.animate([
                        { opacity: 0, transform: 'scale(0) translateY(0) rotate(0deg)' },
                        { opacity: 1, transform: 'scale(1) translateY(-30px) rotate(180deg)' },
                        { opacity: 0, transform: 'scale(0.6) translateY(-100px) rotate(360deg)' }
                    ], {
                        duration: 2000,
                        easing: 'cubic-bezier(0.215, 0.610, 0.355, 1)'
                    });

                    setTimeout(() => heart.remove(), 2000);
                }, i * 100);
            }
        }

        submitBtn.addEventListener('click', checkAnswers);

        answer1Input.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') checkAnswers();
        });

        answer2Input.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') checkAnswers();
        });

        window.addEventListener('load', () => {
            answer1Input.focus();
            createGateHearts();
            setInterval(createGateHearts, 20000);
        });

        // MAIN CONTENT FUNCTIONALITY
        let mainContentInitialized = false;

        function initMainContent() {
            if (mainContentInitialized) return;
            mainContentInitialized = true;

            initDashboard();
            initMessages();
            initWall();
            initScrollIndicators();
        }

        function initScrollIndicators() {
            const scrollIndicator1 = document.getElementById('scrollIndicator1');
            const scrollIndicator2 = document.getElementById('scrollIndicator2');

            // Handle scroll indicator clicks
            scrollIndicator1.addEventListener('click', () => {
                document.querySelector('.messages-section').scrollIntoView({ behavior: 'smooth' });
            });

            scrollIndicator2.addEventListener('click', () => {
                document.querySelector('.wall-section').scrollIntoView({ behavior: 'smooth' });
            });
        }

        function initDashboard() {
            const message = [
                "Your presence fills my heart with joy.",
                "Your eyes light up my world.",
                "Your talk smoothes my soul.",
                "Your smile brightens my darkest days.",
                "You make everything better just by being you.",
                "My love for you grows stronger everyday."
            ];

            let currentLine = 0;
            let currentChar = 0;
            let typingSpeed = 45;
            let lineDelay = 700;

            const typedTextEl = document.getElementById('typedText');
            const heartFlowEl = document.getElementById('heartFlow');
            const mainImage = document.getElementById('mainImage');
            const messageContainer = document.querySelector('.message-container');

            function initializeMessage() {
                typedTextEl.innerHTML = '';
                for (let i = 0; i < message.length; i++) {
                    const lineDiv = document.createElement('div');
                    lineDiv.className = 'message-line';
                    lineDiv.id = `line-${i}`;
                    typedTextEl.appendChild(lineDiv);
                }
            }

            function createFlowingHearts() {
                const heartCount = Math.floor(Math.random() * 4) + 3;

                for (let i = 0; i < heartCount; i++) {
                    setTimeout(() => {
                        const heart = document.createElement('div');
                        heart.className = 'flowing-heart';

                        const heartStyles = ['', '', '', '', '', ''];
                        const randomHeart = heartStyles[Math.floor(Math.random() * heartStyles.length)];

                        heart.innerHTML = randomHeart;

                        const size = Math.random() * 12 + 10;
                        const startX = Math.random() * 100;
                        const duration = Math.random() * 15 + 12;
                        const delay = Math.random() * 3;

                        heart.style.fontSize = `${size}px`;
                        heart.style.left = `${startX}%`;
                        heart.style.animationDuration = `${duration}s`;
                        heart.style.animationDelay = `${delay}s`;

                        const colorVariations = ['#e91e63', '#ff4081', '#f50057', '#ff1744'];
                        const randomColor = colorVariations[Math.floor(Math.random() * colorVariations.length)];
                        heart.style.color = randomColor;

                        heartFlowEl.appendChild(heart);

                        setTimeout(() => {
                            if (heart.parentNode === heartFlowEl) {
                                heart.remove();
                            }
                        }, (duration + delay) * 1000);

                    }, i * 600);
                }
            }

            function typeWriter() {
                if (currentLine >= message.length) {
                    const lastLine = document.getElementById(`line-${message.length - 1}`);
                    const cursor = lastLine.querySelector('.cursor');
                    if (cursor) cursor.remove();
                    return;
                }

                const lineEl = document.getElementById(`line-${currentLine}`);
                const lineText = message[currentLine];

                if (currentChar < lineText.length) {
                    lineEl.textContent = lineText.substring(0, currentChar + 1);
                    currentChar++;

                    const cursor = document.createElement('span');
                    cursor.className = 'cursor';
                    lineEl.appendChild(cursor);

                    if (lineEl.offsetTop + lineEl.offsetHeight > messageContainer.scrollTop + messageContainer.clientHeight - 50) {
                        messageContainer.scrollTop = messageContainer.scrollHeight;
                    }

                    setTimeout(typeWriter, typingSpeed);
                } else {
                    const cursor = lineEl.querySelector('.cursor');
                    if (cursor) cursor.remove();

                    currentLine++;
                    currentChar = 0;

                    setTimeout(typeWriter, lineDelay);
                }
            }

            initializeMessage();
            typeWriter();

            createFlowingHearts();
            setInterval(createFlowingHearts, 1500);

            mainImage.addEventListener('click', (e) => {
                for (let i = 0; i < 15; i++) {
                    const heart = document.createElement('div');
                    heart.innerHTML = '';
                    heart.style.position = 'fixed';
                    heart.style.fontSize = '20px';
                    heart.style.color = '#e91e63';
                    const rect = mainImage.getBoundingClientRect();
                    heart.style.left = `${rect.left + rect.width / 2}px`;
                    heart.style.top = `${rect.top + rect.height / 2}px`;
                    heart.style.zIndex = '5';
                    heart.style.pointerEvents = 'none';
                    heart.style.opacity = '0.9';

                    const angle = Math.random() * Math.PI * 2;
                    const distance = 80 + Math.random() * 120;
                    const x = Math.cos(angle) * distance;
                    const y = Math.sin(angle) * distance;

                    document.body.appendChild(heart);

                    heart.animate([
                        {
                            transform: 'translate(-50%, -50%) scale(1) rotate(0deg)',
                            opacity: 1
                        },
                        {
                            transform: `translate(${x}px, ${y}px) scale(0) rotate(180deg)`,
                            opacity: 0
                        }
                    ], {
                        duration: 2000,
                        easing: 'cubic-bezier(0.215, 0.610, 0.355, 1)'
                    });

                    setTimeout(() => heart.remove(), 2000);
                }
            });
        }

        function initMessages() {
            const sliderMessages = document.getElementById('sliderMessages');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const dots = document.querySelectorAll('.dot');
            const autoSlideStatus = document.getElementById('autoSlideStatus');
            const statusDot = document.getElementById('statusDot');

            let currentSlide = 0;
            let totalSlides = document.querySelectorAll('.message-slide').length;
            let autoSlideInterval;
            let isAutoSlideEnabled = true;
            let userInteracted = false;
            const slideDuration = 8000;

            function startAutoSlide() {
                if (!userInteracted && isAutoSlideEnabled) {
                    autoSlideInterval = setInterval(() => {
                        nextSlide();
                    }, slideDuration);
                }
            }

            function stopAutoSlide() {
                clearInterval(autoSlideInterval);
            }

            function toggleAutoSlide() {
                isAutoSlideEnabled = !isAutoSlideEnabled;
                updateAutoSlideStatus();

                if (isAutoSlideEnabled && !userInteracted) {
                    startAutoSlide();
                } else {
                    stopAutoSlide();
                }
            }

            function updateAutoSlideStatus() {
                if (isAutoSlideEnabled) {
                    statusDot.classList.remove('paused');
                    statusDot.style.backgroundColor = '#4CAF50';
                    autoSlideStatus.innerHTML = `
                        <div class="status-dot" id="statusDot"></div>
                        <span>Auto-slide is on (click to stop)</span>
                    `;
                } else {
                    statusDot.classList.add('paused');
                    statusDot.style.backgroundColor = '#ff9800';
                    autoSlideStatus.innerHTML = `
                        <div class="status-dot paused" id="statusDot"></div>
                        <span>Auto-slide is off (click to start)</span>
                    `;
                }
                document.getElementById('statusDot').addEventListener('click', toggleAutoSlide);
            }

            function goToSlide(slideIndex) {
                currentSlide = slideIndex;
                sliderMessages.style.transform = `translateX(-${currentSlide * 100}%)`;

                dots.forEach((dot, index) => {
                    dot.classList.toggle('active', index === currentSlide);
                });

                if (isAutoSlideEnabled && !userInteracted) {
                    stopAutoSlide();
                    startAutoSlide();
                }
            }

            function nextSlide() {
                currentSlide = (currentSlide + 1) % totalSlides;
                goToSlide(currentSlide);
            }

            function prevSlide() {
                currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
                goToSlide(currentSlide);
            }

            function handleUserInteraction() {
                if (!userInteracted) {
                    userInteracted = true;
                    stopAutoSlide();
                    autoSlideStatus.innerHTML = `
                        <div class="status-dot paused" id="statusDot"></div>
                        <span>Auto-slide stopped (click to resume)</span>
                    `;
                }
            }

            prevBtn.addEventListener('click', () => {
                handleUserInteraction();
                prevSlide();
            });

            nextBtn.addEventListener('click', () => {
                handleUserInteraction();
                nextSlide();
            });

            dots.forEach(dot => {
                dot.addEventListener('click', () => {
                    handleUserInteraction();
                    const slideIndex = parseInt(dot.getAttribute('data-slide'));
                    goToSlide(slideIndex);
                });
            });

            document.querySelector('.message-slider-container').addEventListener('click', (e) => {
                if (e.target.classList.contains('message-slider-container') ||
                    e.target.classList.contains('slider-messages') ||
                    e.target.classList.contains('message-slide') ||
                    e.target.classList.contains('message-content') ||
                    e.target.classList.contains('message-title') ||
                    e.target.classList.contains('message-date')) {

                    handleUserInteraction();
                }
            });

            autoSlideStatus.addEventListener('click', toggleAutoSlide);

            startAutoSlide();
            updateAutoSlideStatus();
        }

        function initWall() {
            const wallsContainer = document.getElementById('wallsContainer');
            const leftPicture = document.getElementById('leftPicture');
            const rightPicture = document.getElementById('rightPicture');
            const addWallBtn = document.getElementById('addWall');
            const removeWallBtn = document.getElementById('removeWall');
            const earthquakePopup = document.getElementById('earthquakePopup');
            const sweetMessage = document.getElementById('sweetMessage');

            let wallCount = 1;
            const wallWidth = 40;
            const wallSpacing = 5;

            Promise.all([
                new Promise(resolve => {
                    if (leftPicture.complete) resolve();
                    else leftPicture.onload = resolve;
                }),
                new Promise(resolve => {
                    if (rightPicture.complete) resolve();
                    else rightPicture.onload = resolve;
                })
            ]).then(() => {
                updateWallsContainer();
                updatePicturesPosition();
                updateButtonState();
            });

            addWallBtn.addEventListener('click', addWall);
            removeWallBtn.addEventListener('click', removeWall);

            function addWall() {
                wallCount++;
                sweetMessage.classList.remove('show');

                const wall = document.createElement('div');
                wall.className = 'wall';
                wall.id = `wall-${wallCount}`;

                wallsContainer.appendChild(wall);
                updateWallsContainer();
                updatePicturesPosition();
                updateButtonState();

                if (wallCount >= 3) {
                    setTimeout(triggerEarthquake, 500);
                }
            }

            function removeWall() {
                if (wallCount <= 0) return;

                const lastWall = document.getElementById(`wall-${wallCount}`);

                if (lastWall) {
                    lastWall.classList.add('wall-remove');
                    setTimeout(() => {
                        lastWall.remove();
                        wallCount--;

                        updateWallsContainer();
                        updatePicturesPosition(true);
                        updateButtonState();

                        if (wallCount === 0) {
                            setTimeout(joinPicturesCompletely, 300);
                        }
                    }, 500);
                }
            }

            function updateWallsContainer() {
                const totalWidth = (wallWidth * wallCount) + (wallSpacing * (wallCount - 1));
                wallsContainer.style.width = `${totalWidth}px`;
                wallsContainer.style.left = `calc(50% - ${totalWidth / 2}px)`;
            }

            function updatePicturesPosition(animate = false) {
                const totalWallSpace = (wallWidth * wallCount) + (wallSpacing * (wallCount - 1));
                const distanceFromCenter = totalWallSpace / 2;

                if (animate) {
                    leftPicture.style.transition = 'all 0.8s ease';
                    rightPicture.style.transition = 'all 0.8s ease';
                } else {
                    leftPicture.style.transition = 'all 0.5s ease';
                    rightPicture.style.transition = 'all 0.5s ease';
                }

                leftPicture.style.right = `calc(50% + ${distanceFromCenter}px)`;
                rightPicture.style.left = `calc(50% + ${distanceFromCenter}px)`;

                // Ensure both images maintain consistent sizing
                leftPicture.style.transform = 'translateX(0)';
                rightPicture.style.transform = 'translateX(0)';
            }

            function updateButtonState() {
                removeWallBtn.disabled = wallCount === 0;
            }

            function triggerEarthquake() {
                document.querySelector('.wall-container').classList.add('earthquake');

                setTimeout(() => {
                    earthquakePopup.classList.add('active');
                }, 300);

                setTimeout(() => {
                    earthquakePopup.classList.remove('active');

                    const walls = document.querySelectorAll('.wall');
                    walls.forEach(wall => {
                        wall.classList.add('wall-remove');
                        setTimeout(() => {
                            wall.remove();
                        }, 500);
                    });

                    wallCount = 0;
                    updateButtonState();

                    setTimeout(() => {
                        joinPicturesCompletely();
                    }, 600);

                    setTimeout(() => {
                        document.querySelector('.wall-container').classList.remove('earthquake');
                    }, 1000);

                }, 3000);
            }

            function joinPicturesCompletely() {
                leftPicture.style.transition = 'all 0.8s ease';
                rightPicture.style.transition = 'all 0.8s ease';

                leftPicture.style.right = '50%';
                rightPicture.style.left = '50%';

                // Ensure both images maintain consistent sizing when joined
                leftPicture.style.transform = 'translateX(0)';
                rightPicture.style.transform = 'translateX(0)';

                setTimeout(() => {
                    leftPicture.classList.add('join-effect');
                    rightPicture.classList.add('join-effect');

                    sweetMessage.classList.add('show');

                    setTimeout(() => {
                        leftPicture.classList.remove('join-effect');
                        rightPicture.classList.remove('join-effect');
                    }, 800);
                }, 800);
            }
        }
    </script>
</body>

</html>



